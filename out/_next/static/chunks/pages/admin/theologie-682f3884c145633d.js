(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[304],{6675:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/theologie",function(){return n(8834)}])},4592:function(e,t,n){"use strict";n.d(t,{F1:function(){return s},V1:function(){return c},gR:function(){return u},pb:function(){return l},pp:function(){return a}});var r=n(4301),o=n.n(r),i=n(3346),s=function(e){return o()("".concat(i.bl,"/theologie"),{method:"POST",headers:{Accept:"application/json"},body:e}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},c=function(e){return o()("".concat(i.bl,"/theologie/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},l=function(){return o()("".concat(i.bl,"/theologies"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},a=function(e){return o()("".concat(i.bl,"/theologie/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},u=function(e,t){return o()("".concat(i.bl,"/theologie/").concat(t),{method:"PUT",headers:{Accept:"application/json"},body:e}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}},9951:function(e,t,n){"use strict";var r=n(5893),o=(n(7294),n(2103));t.Z=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)("div",{className:"p-5 text-center bg-image bg_image_other_header",style:{height:"600px"},children:(0,r.jsx)("div",{className:"mask",style:{backgroundColor:"#00000078"},children:(0,r.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,r.jsxs)("div",{className:"text-white",children:[(0,r.jsx)("h1",{children:"Base Biblique"}),(0,r.jsx)("p",{children:"Retour aux fondements bibliques"})]})})})})]})}},2675:function(e,t,n){"use strict";n.d(t,{$:function(){return o},J:function(){return r}});var r={toolbar:[[{header:"1"},{header:"2"},{header:[3,4,5,6]},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["link","image","video"],["clean"],["code-block"]]},o=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","link","image","video","code-block"]},8834:function(e,t,n){"use strict";n.r(t);var r=n(5893),o=n(7294),i=n(9008),s=n(723),c=n(1163),l=n.n(c),a=n(5152),u=(n(8451),n(2854)),h=n.n(u),d=n(2675),m=n(9951),f=n(1664),g=n.n(f),b=n(4592),j=n(3799);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}var v=(0,a.default)((function(){return Promise.all([n.e(774),n.e(937),n.e(167)]).then(n.t.bind(n,1167,23))}),{loadableGenerated:{webpack:function(){return[1167]}},ssr:!1});t.default=(0,c.withRouter)((function(e){var t=e.router,n=(0,o.useContext)(j._),c=n.state,a=(n.dispatch,c.user);(0,o.useEffect)((function(){(null===a||a.role.includes("Utilisateur"))&&t.push("/")}),[]);var u,f=(0,o.useState)(!!localStorage.getItem("theologie")&&JSON.parse(localStorage.getItem("theologie"))),N=f[0],y=f[1],w=(0,o.useState)({error:"",sizeError:"",success:"",formData:"",title:"",hidePublishButton:!1}),_=w[0],k=w[1],E=(_.error,_.sizeError,_.success,_.formData),O=_.title;return _.hidePublishButton,(0,o.useEffect)((function(){k(x({},_,{formData:new FormData}))}),[t]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.default,{children:(0,r.jsx)("title",{children:"Basebiblique | Th\xe9ologie"})}),(0,r.jsx)(m.Z,{}),(0,r.jsx)("div",{className:"all_pages page_enseignement",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)(g(),{href:"/admin",children:(0,r.jsx)("a",{className:"btn m-2 btn-dark",children:"Retour"})}),(0,r.jsx)(g(),{href:"/admin/theologie/gestion",children:(0,r.jsx)("a",{className:"btn m-2 btn-dark",children:"Gestion des enseignements"})}),(0,r.jsx)("h1",{className:"h1",children:"Th\xe9ologie"}),(0,r.jsxs)("form",{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("div",{className:"col-lg-8 col-md-8 col-sm-12",children:[(0,r.jsx)("span",{children:"Veuillez saisir le titre de l'enseignement"}),(0,r.jsxs)("div",{className:"form-outline mb-4",children:[(0,r.jsx)("input",{type:"text",value:O,onChange:(u="title",function(e){var t,n="photo"===u?e.target.files[0]:e.target.value;E.set(u,n),k(x({},_,(p(t={},u,n),p(t,"formData",E),p(t,"error",""),t)))}),id:"titreEnseignement",className:"form-control",required:!0}),(0,r.jsx)("label",{className:"form-label",htmlFor:"titreEnseignement",children:"Titre*"})]}),(0,r.jsx)("span",{children:"Veuillez saisir le contenu de l'enseignement"}),(0,r.jsx)(v,{onChange:function(e){y(e),E.set("body",e),localStorage.setItem("theologie",JSON.stringify(e))},value:N,className:"quill_form",modules:d.J,formats:d.$,placeholder:"Saisissez le contenu de la page de l'enseignement..."})]})}),(0,r.jsx)("button",{className:"submit_Form btn myBtn mt-2 text-white",onClick:function(e){e.preventDefault(),(0,b.F1)(E).then((function(e){e.error?(k(x({},_,{error:e.error})),new(h())({type:"error",theme:"mint",layout:"topRight",text:e.error,timeout:3e3}).show()):(k(x({},_,{title:"",error:"",success:"Nouvel enseignement ajout\xe9"})),y(""),l().push("/admin"),new(h())({type:"success",theme:"bootstrap-v4",layout:"topRight",text:"Nouvel enseignement ajout\xe9",timeout:3e3}).show())}))},type:"submit",children:"Publier"})]})]})}),(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("hr",{className:"my-5"})}),(0,r.jsx)(s.Z,{})]})}))}},function(e){e.O(0,[82,973,103,774,888,179],(function(){return t=6675,e(e.s=t);var t}));var t=e.O();_N_E=t}]);