(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[239],{4020:function(e){"use strict";var t="%[a-f0-9]{2}",n=new RegExp(t,"gi"),r=new RegExp("("+t+")+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(c){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function c(e){try{return decodeURIComponent(e)}catch(c){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=o(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},o=r.exec(e);o;){try{n[o[0]]=decodeURIComponent(o[0])}catch(t){var i=c(o[0]);i!==o[0]&&(n[o[0]]=i)}o=r.exec(e)}n["%C2"]="\ufffd";for(var s=Object.keys(n),a=0;a<s.length;a++){var u=s[a];e=e.replace(new RegExp(u,"g"),n[u])}return e}(e)}}},2806:function(e){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),o=Array.isArray(t),c=0;c<r.length;c++){var i=r[c],s=e[i];(o?-1!==t.indexOf(i):t(i,s,e))&&(n[i]=s)}return n}},8033:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/enseignement/[slug]",function(){return n(8299)}])},2763:function(e,t,n){"use strict";n.d(t,{CP:function(){return s},Ue:function(){return i},sT:function(){return u},ui:function(){return a}});var r=n(4301),o=n.n(r),c=n(3346),i=function(e){return o()("".concat(c.bl,"/category"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},s=function(){return o()("".concat(c.bl,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},a=function(e){return o()("".concat(c.bl,"/category/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},u=function(e){return o()("".concat(c.bl,"/category/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}},2584:function(e,t,n){"use strict";n.d(t,{E9:function(){return u},W1:function(){return p},bd:function(){return d},jv:function(){return s},kE:function(){return f},mx:function(){return m},pb:function(){return l},qn:function(){return a}});var r=n(4301),o=n.n(r),c=n(3346),i=n(7563),s=function(e){return o()("".concat(c.bl,"/enseignement"),{method:"POST",headers:{Accept:"application/json"},body:e}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},a=function(e,t){var n={limit:t,skip:e};return o()("".concat(c.bl,"/enseignements-categories"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},u=function(e){return o()("".concat(c.bl,"/enseignement/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},l=function(e){return o()("".concat(c.bl,"/enseignements"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},f=function(e){return o()("".concat(c.bl,"/enseignement/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},d=function(e,t){return o()("".concat(c.bl,"/enseignement/").concat(t),{method:"PUT",headers:{Accept:"application/json"},body:e}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},m=function(e){console.log("search params",e);var t=i.stringify(e);return console.log("query params",t),o()("".concat(c.bl,"/enseignements/recherche?").concat(t),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},p=function(e){return o()("".concat(c.bl,"/enseignements/related"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}},9951:function(e,t,n){"use strict";var r=n(5893),o=(n(7294),n(2103));t.Z=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)("div",{className:"p-5 text-center bg-image bg_image_other_header",style:{height:"600px"},children:(0,r.jsx)("div",{className:"mask",style:{backgroundColor:"#00000078"},children:(0,r.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,r.jsxs)("div",{className:"text-white",children:[(0,r.jsx)("h1",{children:"Base Biblique"}),(0,r.jsx)("p",{children:"Retour aux fondements bibliques"})]})})})})]})}},2675:function(e,t,n){"use strict";n.d(t,{$:function(){return o},J:function(){return r}});var r={toolbar:[[{header:"1"},{header:"2"},{header:[3,4,5,6]},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["link","image","video"],["clean"],["code-block"]]},o=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","link","image","video","code-block"]},8299:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(5893),o=n(7294),c=n(9008),i=n(723),s=n(9951),a=n(1664),u=n.n(a),l=n(1163),f=n.n(l),d=n(5152),m=n(2763),p=n(2584),h=(n(8451),n(2675)),g=n(3346),y=n(2854),b=n.n(y);function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}function k(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=(0,d.default)((function(){return Promise.all([n.e(774),n.e(937),n.e(167)]).then(n.t.bind(n,1167,23))}),{loadableGenerated:{webpack:function(){return[1167]}},ssr:!1}),O=(0,l.withRouter)((function(e){var t,n=e.router,c=(0,o.useState)(""),i=c[0],s=c[1],a=(0,o.useState)([]),u=a[0],l=a[1],d=(0,o.useState)(null),y=d[0],j=d[1],O=(0,o.useState)([]),E=O[0],w=O[1],S=(0,o.useState)((x(t={title:"",error:"",success:"",formData:""},"title",""),x(t,"body",""),x(t,"formData",new FormData),t)),F=S[0],C=S[1],A=(F.error,F.success,F.formData),T=F.title;(0,o.useEffect)((function(){C(v({},F,{formData:A})),_(),R()}),[n]);var _=function(){n.query.slug&&(0,p.E9)(n.query.slug).then((function(e){e.error?console.log(e.error):(C(v({},F,{title:e.title})),s(e.body),I(e.categories))}))},I=function(e){var t=[];e.map((function(e,n){t.push(e._id)})),w(t)},R=function(){(0,m.CP)().then((function(e){e.error?C(v({},F,{error:e.error})):l(e)}))},U=function(e){return function(){C(v({},F,{error:""}));var t=E.indexOf(e),n=k(E);-1===t?n.push(e):n.splice(t,1),console.log(n),w(n),A.set("categories",n)}},q=function(e){return-1!==E.indexOf(e)},$=function(e){return function(t){var n,r="photo"===e?t.target.files[0]:t.target.value;A.set(e,r),C(v({},F,(x(n={},e,r),x(n,"formData",A),x(n,"error",""),n))),t.target.files&&t.target.files[0]&&j(URL.createObjectURL(t.target.files[0]))}},P=function(e){s(e),A.set("body",e)},D=function(e){e.preventDefault(),(0,p.bd)(A,n.query.slug).then((function(e){e.error?(C(v({},F,{error:e.error})),new(b())({type:"error",theme:"mint",layout:"topRight",text:e.error,timeout:3e3}).show()):(C(v({},F,{title:"",success:"Enseignement mis \xe0 jour"})),s(""),l([]),f().push("/admin"),new(b())({type:"success",theme:"bootstrap-v4",layout:"topRight",text:"Enseignement mis \xe0 jour",timeout:3e3}).show())}))};return(0,r.jsxs)("div",{className:"page_update_enseignement",children:[(0,r.jsx)("h1",{className:"h1",children:T}),(0,r.jsxs)(r.Fragment,{children:[i&&(0,r.jsx)("img",{className:"img img-fluid",style:{width:"17%",height:"200px",borderRadius:"50%"},src:"".concat(g.bl,"/enseignement/photo/").concat(n.query.slug),alt:T}),(0,r.jsxs)("form",{onSubmit:D,children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-lg-8 col-md-8 col-sm-12",children:[(0,r.jsx)("span",{children:"Veuillez saisir le titre de l'enseignement"}),(0,r.jsx)("div",{className:"form-outline mb-4",children:(0,r.jsx)("input",{type:"text",value:T,onChange:$("title"),id:"titreEnseignement",className:"form-control",required:!0})}),(0,r.jsx)("span",{children:"Veuillez saisir le contenu de l'enseignement"}),(0,r.jsx)(N,{onChange:P,value:i,className:"quill_form",modules:h.J,formats:h.$,placeholder:"Saisissez le contenu de la page de l'enseignement..."})]}),(0,r.jsxs)("div",{className:"col-lg-4 col-md-4 col-sm-12",children:[(0,r.jsx)("span",{children:"Merci de choisir des cat\xe9gories associ\xe9es \xe0 l'enseignement"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{className:"couleur",children:"Cat\xe9gories"}),(0,r.jsx)("hr",{}),(0,r.jsx)("ul",{style:{maxHeight:"200px",overflowY:"scroll"},children:u&&u.map((function(e,t){return(0,r.jsxs)("li",{className:"list-unstyled",children:[(0,r.jsx)("input",{onChange:U(e._id),checked:q(e._id),type:"checkbox",className:"mr-2"}),(0,r.jsx)("label",{className:"form-check-label",children:e.name})]},t)}))})]}),(0,r.jsxs)("div",{className:"form-group pb-2",children:[(0,r.jsx)("h5",{className:"couleur",children:"image"}),(0,r.jsx)("hr",{}),(0,r.jsx)("small",{className:"text-muted",children:"Max size: 1mb"}),(0,r.jsx)("br",{}),(0,r.jsxs)("label",{className:"btn btn-dark mb-4 text-white",children:["Choisissez une image",(0,r.jsx)("input",{onChange:$("photo"),type:"file",accept:"image/*",hidden:!0})]}),(0,r.jsx)("img",{className:"img-fluid rounded",style:{width:"70%"},src:y})]})]})]}),(0,r.jsx)("button",{className:"submit_Form btn myBtn mt-2 text-white",type:"submit",children:"Modifier"})]})]})]})})),E=n(3799);var w=function(e){e.enseignement;var t=(0,l.useRouter)(),n=(0,o.useContext)(E._),a=n.state,f=(n.dispatch,a.user);return(0,o.useEffect)((function(){(null===f||f.role.includes("Utilisateur"))&&t.push("/")}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.default,{children:(0,r.jsx)("title",{children:"Basebiblique | Enseignements"})}),(0,r.jsx)(s.Z,{}),(0,r.jsx)("div",{className:"all_pages",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)(u(),{href:"/admin",children:(0,r.jsx)("a",{className:"btn m-2 btn-dark",children:"Retour"})}),(0,r.jsx)(O,{})]})}),(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("hr",{className:"my-5"})}),(0,r.jsx)(i.Z,{})]})}},7563:function(e,t,n){"use strict";const r=n(8218),o=n(4020),c=n(500),i=n(2806),s=Symbol("encodeFragmentIdentifier");function a(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function l(e,t){return t.decode?o(e):e}function f(e){return Array.isArray(e)?e.sort():"object"===typeof e?f(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function m(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function h(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"colon-list-separator":return(e,n,r)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const o="string"===typeof n&&n.includes(e.arrayFormatSeparator),c="string"===typeof n&&!o&&l(n,e).includes(e.arrayFormatSeparator);n=c?l(n,e):n;const i=o||c?n.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===n?n:l(n,e);r[t]=i};case"bracket-separator":return(t,n,r)=>{const o=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!o)return void(r[t]=n?l(n,e):n);const c=null===n?[]:n.split(e.arrayFormatSeparator).map((t=>l(t,e)));void 0!==r[t]?r[t]=[].concat(r[t],c):r[t]=c};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!==typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const o of e.split("&")){if(""===o)continue;let[e,i]=c(t.decode?o.replace(/\+/g," "):o,"=");i=void 0===i?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?i:l(i,t),n(l(e,t),i,r)}for(const o of Object.keys(r)){const e=r[o];if("object"===typeof e&&null!==e)for(const n of Object.keys(e))e[n]=p(e[n],t);else r[o]=p(e,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=f(n):e[t]=n,e}),Object.create(null))}t.extract=m,t.parse=h,t.stringify=(e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>{return t.skipNull&&(null===(r=e[n])||void 0===r)||t.skipEmptyString&&""===e[n];var r},r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),"[",o,"]"].join("")]:[...n,[u(t,e),"[",u(o,e),"]=",u(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),"[]"].join("")]:[...n,[u(t,e),"[]=",u(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),":list="].join("")]:[...n,[u(t,e),":list=",u(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:(o=null===o?"":o,0===r.length?[[u(n,e),t,u(o,e)].join("")]:[[r,u(o,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,u(t,e)]:[...n,[u(t,e),"=",u(r,e)].join("")]}}(t),o={};for(const i of Object.keys(e))n(i)||(o[i]=e[i]);const c=Object.keys(o);return!1!==t.sort&&c.sort(t.sort),c.map((n=>{const o=e[n];return void 0===o?"":null===o?u(n,t):Array.isArray(o)?0===o.length&&"bracket-separator"===t.arrayFormat?u(n,t)+"[]":o.reduce(r(n),[]).join("&"):u(n,t)+"="+u(o,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=c(e,"#");return Object.assign({url:n.split("?")[0]||"",query:h(m(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:l(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0,[s]:!0},n);const r=d(e.url).split("?")[0]||"",o=t.extract(e.url),c=t.parse(o,{sort:!1}),i=Object.assign(c,e.query);let a=t.stringify(i,n);a&&(a=`?${a}`);let l=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(l=`#${n[s]?u(e.fragmentIdentifier,n):e.fragmentIdentifier}`),`${r}${a}${l}`},t.pick=(e,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[s]:!1},r);const{url:o,query:c,fragmentIdentifier:a}=t.parseUrl(e,r);return t.stringifyUrl({url:o,query:i(c,n),fragmentIdentifier:a},r)},t.exclude=(e,n,r)=>{const o=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return t.pick(e,o,r)}},500:function(e){"use strict";e.exports=(e,t)=>{if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},8218:function(e){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))}},function(e){e.O(0,[82,973,103,774,888,179],(function(){return t=8033,e(e.s=t);var t}));var t=e.O();_N_E=t}]);