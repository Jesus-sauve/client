(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{9799:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/enseignement/categories",function(){return n(3295)}])},2763:function(e,t,n){"use strict";n.d(t,{CP:function(){return i},Ue:function(){return s},sT:function(){return u},ui:function(){return a}});var r=n(4301),o=n.n(r),c=n(3346),s=function(e){return o()("".concat(c.bl,"/category"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},i=function(){return o()("".concat(c.bl,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},a=function(e){return o()("".concat(c.bl,"/category/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},u=function(e){return o()("".concat(c.bl,"/category/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}},9951:function(e,t,n){"use strict";var r=n(5893),o=(n(7294),n(2103));t.Z=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)("div",{className:"p-5 text-center bg-image bg_image_other_header",style:{height:"600px"},children:(0,r.jsx)("div",{className:"mask",style:{backgroundColor:"#00000078"},children:(0,r.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,r.jsxs)("div",{className:"text-white",children:[(0,r.jsx)("h1",{children:"Base Biblique"}),(0,r.jsx)("p",{children:"Retour aux fondements bibliques"})]})})})})]})}},3295:function(e,t,n){"use strict";n.r(t);var r=n(5893),o=n(7294),c=n(9008),s=n(723),i=n(9951),a=n(2763),u=n(1664),l=n.n(u),m=n(2854),h=n.n(m),d=n(3799),f=n(1163);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}t.default=function(){var e=(0,o.useState)({name:"",error:!1,success:!1,categories:[],removed:!1,reload:!1}),t=e[0],n=e[1],u=(0,f.useRouter)(),m=(0,o.useContext)(d._),p=m.state,j=(m.dispatch,p.user);(0,o.useEffect)((function(){(null===j||j.role.includes("Utilisateur"))&&u.push("/")}),[]);var x=t.name,b=(t.error,t.success,t.categories),v=t.removed,y=t.reload;(0,o.useEffect)((function(){N()}),[y]);var N=function(){(0,a.CP)().then((function(e){e.error?console.log(e.error):n(g({},t,{categories:e}))}))},w=function(e){window.confirm("\xcates-vous s\xfbre de vouloir supprimer cette cat\xe9gorie ?")&&_(e)},_=function(e){console.log("delete",e),(0,a.sT)(e).then((function(e){e.error?(console.log(e.error),new(h())({type:"success",theme:"bootstrap-v4",layout:"topRight",text:"Nouvelle cat\xe9gorie cr\xe9\xe9e",timeout:3e3}).show()):(n(g({},t,{error:!1,success:!1,name:"",removed:!v,reload:!y})),new(h())({type:"error",theme:"mint",layout:"topRight",text:"cat\xe9gorie supprim\xe9e",timeout:3e3}).show())}))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.default,{children:(0,r.jsx)("title",{children:"Basebiblique | Cat\xe9gories"})}),(0,r.jsx)(i.Z,{}),(0,r.jsxs)("div",{className:"all_pages",children:[(0,r.jsxs)("div",{className:"container categorie_page",children:[(0,r.jsx)(l(),{href:"/admin",children:(0,r.jsx)("a",{className:"btn btn-dark",children:"Retour"})}),(0,r.jsx)("h1",{className:"h1",children:"Cat\xe9gories"}),(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),(0,a.Ue)({name:x}).then((function(e){e.error?(n(g({},t,{error:e.error,success:!1})),new(h())({type:"error",theme:"mint",layout:"topRight",text:e.error,timeout:3e3}).show()):(n(g({},t,{error:!1,success:!0,name:""})),new(h())({type:"success",theme:"bootstrap-v4",layout:"topRight",text:"Nouvelle cat\xe9gorie cr\xe9\xe9e",timeout:3e3}).show())}))},children:[(0,r.jsx)("span",{children:"Veuillez saisir le nom de la Cat\xe9gorie"}),(0,r.jsxs)("div",{className:"form-outline my-4 w-75",children:[(0,r.jsx)("input",{onChange:function(e){n(g({},t,{name:e.target.value,error:!1,success:!1,removed:""}))},type:"text",value:x,id:"textCategorie",className:"form-control",required:!0}),(0,r.jsx)("label",{className:"form-label",htmlFor:"textCategorie",children:"Nom de la Cat\xe9gorie*"})]}),(0,r.jsx)("button",{className:"submit_Form btn myBtn mt-2 text-white",type:"submit",children:"Cr\xe9er"})]})]}),(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("hr",{className:"my-5"}),(0,r.jsx)("div",{children:b.map((function(e,t){return(0,r.jsx)("button",{onDoubleClick:function(){return w(e.slug)},title:"Faites un double clique pour supprimer la cat\xe9gorie",className:"btn btn-light m-2","data-mdb-ripple-color":"dark",children:e.name},t)}))})]})]}),(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("hr",{className:"my-5"})}),(0,r.jsx)(s.Z,{})]})}}},function(e){e.O(0,[82,103,774,888,179],(function(){return t=9799,e(e.s=t);var t}));var t=e.O();_N_E=t}]);