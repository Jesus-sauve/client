(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[500],{8915:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/presentation/[slug]",function(){return n(2735)}])},1310:function(e,t,n){"use strict";n.d(t,{Ib:function(){return a},xe:function(){return o}});var r=n(4301),s=n.n(r),i=n(3346),o=function(){return s()("".concat(i.bl,"/presentation"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},a=function(e,t){return s()("".concat(i.bl,"/presentation/").concat(t),{method:"PUT",headers:{Accept:"application/json"},body:e}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}},9951:function(e,t,n){"use strict";var r=n(5893),s=(n(7294),n(2103));t.Z=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{}),(0,r.jsx)("div",{className:"p-5 text-center bg-image bg_image_other_header",style:{height:"600px"},children:(0,r.jsx)("div",{className:"mask",style:{backgroundColor:"#00000078"},children:(0,r.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,r.jsxs)("div",{className:"text-white",children:[(0,r.jsx)("h1",{children:"Base Biblique"}),(0,r.jsx)("p",{children:"Retour aux fondements bibliques"})]})})})})]})}},2675:function(e,t,n){"use strict";n.d(t,{$:function(){return s},J:function(){return r}});var r={toolbar:[[{header:"1"},{header:"2"},{header:[3,4,5,6]},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],["link","image","video"],["clean"],["code-block"]]},s=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","link","image","video","code-block"]},2735:function(e,t,n){"use strict";n.r(t);var r=n(5893),s=n(7294),i=n(9008),o=n(5152),a=(n(8451),n(2854)),c=n.n(a),l=n(2675),u=n(723),d=n(1664),f=n.n(d),h=n(9951),m=n(1310),b=n(1163),x=n.n(b),p=n(3799);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}var v=(0,o.default)((function(){return Promise.all([n.e(774),n.e(937),n.e(167)]).then(n.t.bind(n,1167,23))}),{loadableGenerated:{webpack:function(){return[1167]}},ssr:!1});t.default=(0,b.withRouter)((function(e){var t,n=e.router,o=(0,s.useState)(""),a=o[0],d=o[1],b=(0,s.useState)((j(t={title:"",error:"",success:"",formData:""},"title",""),j(t,"body",""),j(t,"formData",new FormData),t)),y=b[0],_=b[1],N=(0,s.useContext)(p._),w=N.state,k=(N.dispatch,w.user);(0,s.useEffect)((function(){(null===k||k.role.includes("Utilisateur"))&&n.push("/")}),[]);y.error,y.success;var P=y.formData,q=y.title;(0,s.useEffect)((function(){_(g({},y,{formData:P})),E()}),[n]);var O,E=function(){n.query.slug&&(0,m.xe)(n.query.slug).then((function(e){e.error?console.log(e.error):(_(g({},y,{title:e[0].title})),d(e[0].body))}))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.default,{children:(0,r.jsx)("title",{children:"Basebiblique | Pr\xe9sentation"})}),(0,r.jsx)(h.Z,{}),(0,r.jsx)("div",{className:"all_pages presentation_slug",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)(f(),{href:"/admin",children:(0,r.jsx)("a",{className:"btn btn-dark",children:"Retour"})}),(0,r.jsx)("h4",{className:"my-5 titres_bas_presentation",children:(0,r.jsx)("strong",{children:"Modification du texte de pr\xe9sentation"})}),(0,r.jsx)("hr",{className:"my-5"}),(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),(0,m.Ib)(P,n.query.slug).then((function(e){e.error?(_(g({},y,{error:e.error})),new(c())({type:"error",layout:"topRight",text:e.error}).show()):(x().replace("/"),_(g({},y,{title:"",success:"Text de pr\xe9sentation cr\xe9\xe9"})),new(c())({type:"success",layout:"topRight",text:"Texte de pr\xe9sentation ajout\xe9"}).show())}))},children:[(0,r.jsx)("span",{children:"Veuillez saisir le titre du text de Pr\xe9sentation"}),(0,r.jsx)("div",{className:"form-outline mb-4",children:(0,r.jsx)("input",{onChange:(O="title",function(e){var t,n="photo"===O?e.target.files[0]:e.target.value;P.set(O,n),_(g({},y,(j(t={},O,n),j(t,"formData",P),j(t,"error",""),t)))}),type:"text",value:q,className:"form-control",required:!0})}),(0,r.jsx)("span",{children:"Veuillez saisir le text de Pr\xe9sentation"}),(0,r.jsx)(v,{className:"quill_form",value:a||" ",modules:l.J,formats:l.$,onChange:function(e){d(e),P.set("body",e)},placeholder:"Saisissez le contenu de la page de pr\xe9sentation..."}),(0,r.jsx)("button",{className:"submit_Form btn myBtn mt-2",type:"submit",children:"Publier"})]})]})}),(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("hr",{className:"my-5"})}),(0,r.jsx)(u.Z,{})]})}))}},function(e){e.O(0,[82,973,103,774,888,179],(function(){return t=8915,e(e.s=t);var t}));var t=e.O();_N_E=t}]);